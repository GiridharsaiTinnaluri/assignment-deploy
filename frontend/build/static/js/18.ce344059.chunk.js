(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[18,175],{3175:function(e,a,t){"use strict";t.r(a);var n=t(184);a.default=function(e){return(0,n.jsx)("div",{className:"card",children:e.children})}},18:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return x}});var n=t(2791),i=t(8698),s=t(9434),r=t(3175),c=t(184),l=function(){var e=(0,s.v9)((function(e){return e.auth.user})),a=e.milestonePoints,t=e.nextMilestone;return(0,c.jsxs)(r.default,{children:[(0,c.jsxs)("section",{className:"milestone-section1",children:[(0,c.jsx)("div",{children:a}),(0,c.jsx)("p",{children:"MileStone"}),(0,c.jsx)("div",{children:"Target Days:  ".concat(t)})]}),(0,c.jsx)(i.Z,{completed:Math.ceil(a/t*100)}),(0,c.jsx)("i",{style:{color:"slategray"},children:"Perform All Habits To Increase Milestone Points"})]})},o=t(4942),d=t(1413),u=t(8152),h=t(3263),b=t(7651),m=["sun","mon","tue","wed","thu","fri","sat"],g=function(){var e=(0,n.useState)({description:"",time:"",days:[]}),a=(0,u.Z)(e,2),t=a[0],i=a[1],l=(0,n.useState)({}),g=(0,u.Z)(l,2),p=g[0],f=g[1],y=(0,s.I0)(),x=(0,s.v9)((function(e){return e.auth}));(0,n.useEffect)((function(){var e=setTimeout((function(){y(b.Y.createHabitMessage(""))}),2e3);return function(){clearTimeout(e)}}));var v=function(e){if(console.log(e.target.value),"days"===e.target.name){var a=(0,d.Z)({},t);e.target.checked?a.days.push(e.target.value):a.days=a.days.filter((function(a){return a!==e.target.value})),i(a)}else i((function(a){return(0,d.Z)((0,d.Z)({},a),{},(0,o.Z)({},e.target.name,e.target.value))}))};return(0,c.jsxs)(r.default,{children:[(0,c.jsx)("p",{className:"createhabit-errormessage",children:x.createHabitMessage}),(0,c.jsx)("section",{className:"createhabit-section2",children:(0,c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(b.Y.iscreateLoading()),function(){var e={};return console.log(x.user.id),""===t.description?e.description="habit is requied":t.description.length<2&&(e.description="habit should be min 2 characters"),""===t.time&&(e.time="time is required!"),t.days.length<1&&(e.days="day is required"),f((0,d.Z)({},e)),Object.keys(e).length<1}()?h.Z.post("/api/habits/createHabit",{habitDescription:t.description,time:t.time,days:t.days,userId:JSON.parse(localStorage.getItem("USERID"))},{headers:{Authorization:"Bearer ".concat(x.token)}}).then((function(e){201===parseInt(e.status)&&(y(b.Y.createHabitMessage("Created successful")),y(b.Y.habitCreated())),i({description:"",time:"",days:[]})})).catch((function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();y(b.Y.createHabitMessage(a))})).finally((function(){y(b.Y.stopCreateLoading())})):y(b.Y.stopCreateLoading())},children:[(0,c.jsxs)("div",{className:"habit",children:[(0,c.jsx)("label",{htmlFor:"description",className:"input-label",children:"Habit"})," ",(0,c.jsx)("br",{}),(0,c.jsx)("input",{type:"text",name:"description",placeholder:"describe a habit here...",value:t.description,onChange:v}),(0,c.jsx)("span",{className:"not-valid",children:p.description})]}),(0,c.jsxs)("div",{className:"time-week-wrapper",children:[(0,c.jsxs)("div",{className:"time",children:[(0,c.jsx)("label",{htmlFor:"time",className:"input-label",children:"Time"})," ",(0,c.jsx)("br",{}),(0,c.jsx)("input",{type:"time",name:"time",id:"time",value:t.time,onChange:v}),(0,c.jsx)("span",{className:"not-valid",children:p.time})]}),(0,c.jsxs)("div",{className:"week",children:[(0,c.jsx)("label",{htmlFor:"days",className:"input-label",children:"Days"}),(0,c.jsxs)("div",{className:"week-group",children:[(0,c.jsxs)("div",{className:-1!==t.days.indexOf(m[0])?"circle-wrap bg-b-cw":"circle-wrap bg-w-cb",children:[(0,c.jsx)("input",{type:"checkbox",id:"sun",name:"days",value:m[0],onChange:v,checked:-1!==t.days.indexOf(m[0])}),(0,c.jsx)("label",{htmlFor:"sun",children:"sun"})]}),(0,c.jsxs)("div",{className:-1!==t.days.indexOf(m[1])?"circle-wrap bg-b-cw":"circle-wrap bg-w-cb",children:[(0,c.jsx)("input",{type:"checkbox",id:"mon",name:"days",value:m[1],onChange:v,checked:-1!==t.days.indexOf(m[1])}),(0,c.jsx)("label",{htmlFor:"mon",children:"mon"})]}),(0,c.jsxs)("div",{className:-1!==t.days.indexOf(m[2])?"circle-wrap bg-b-cw":"circle-wrap bg-w-cb",children:[(0,c.jsx)("input",{type:"checkbox",id:"tue",name:"days",value:m[2],onChange:v,checked:-1!==t.days.indexOf(m[2])}),(0,c.jsx)("label",{htmlFor:"tue",children:"tue"})]}),(0,c.jsxs)("div",{className:-1!==t.days.indexOf(m[3])?"circle-wrap bg-b-cw":"circle-wrap bg-w-cb",children:[(0,c.jsx)("input",{type:"checkbox",id:"wed",name:"days",value:m[3],onChange:v,checked:-1!==t.days.indexOf(m[3])}),(0,c.jsx)("label",{htmlFor:"wed",children:"wed"})]}),(0,c.jsxs)("div",{className:-1!==t.days.indexOf(m[4])?"circle-wrap bg-b-cw":"circle-wrap bg-w-cb",children:[(0,c.jsx)("input",{type:"checkbox",id:"thu",name:"days",value:m[4],onChange:v,checked:-1!==t.days.indexOf(m[4])}),(0,c.jsx)("label",{htmlFor:"thu",children:"thu"})]}),(0,c.jsxs)("div",{className:-1!==t.days.indexOf(m[5])?"circle-wrap bg-b-cw":"circle-wrap bg-w-cb",children:[(0,c.jsx)("input",{type:"checkbox",id:"fri",className:-1!==t.days.indexOf(m[5])?"bg-b-cw":"bg-w-cb",name:"days",value:m[5],onChange:v,checked:-1!==t.days.indexOf(m[5])}),(0,c.jsx)("label",{htmlFor:"fri",children:"fri"})]}),(0,c.jsxs)("div",{className:-1!==t.days.indexOf(m[6])?"circle-wrap bg-b-cw":"circle-wrap bg-w-cb",children:[(0,c.jsx)("input",{type:"checkbox",id:"sat",name:"days",value:m[6],onChange:v,checked:-1!==t.days.indexOf(m[6])}),(0,c.jsx)("label",{htmlFor:"sat",children:"sat"})]})]}),(0,c.jsx)("span",{className:"not-valid",children:p.days})]})]}),(0,c.jsx)("div",{children:(0,c.jsxs)("button",{type:"submit",className:"habit-btn",disabled:x.createHabitLoading,children:[" ",x.createHabitLoading?"Sending Request":"Create Habit"," "]})})]})}),(0,c.jsx)("i",{style:{color:"slategray"},children:"Please Create Your Habit Here !!"})]})},p=function(e){var a=e.data,t=(e.onChange,(0,s.I0)()),n=(0,s.v9)((function(e){return e.auth.completedHabits})),i=a.time,r=a.description,l=a.days,o=a._id;return(0,c.jsxs)("div",{className:"habit-wrapper",children:[(0,c.jsx)("div",{children:(0,c.jsx)("input",{type:"checkbox",name:"habit",id:o,value:o,onChange:function(e){return t(b.Y.completedHabits({value:e.target.value,checked:e.target.checked,name:e.target.name}))},checked:-1!==n.indexOf(o)})}),(0,c.jsxs)("label",{htmlFor:o,className:"habit-card",children:[(0,c.jsx)("div",{className:"habbit-desc",children:r}),(0,c.jsxs)("i",{className:"habit-day",children:["every ",l.map((function(e,a){return(0,c.jsx)("span",{children:e+", "},a)}))," at ",i]})]})]})},f=function(){var e=new Date,a=(0,s.I0)(),t=(0,s.v9)((function(e){return e.auth.completedHabits})),i=(0,s.v9)((function(e){return e.auth})),r=(0,s.v9)((function(e){return e.auth.todayHabits})),l=(0,n.useState)((function(){return[]})),g=(0,u.Z)(l,2),f=g[0],y=g[1],x=(0,n.useState)((function(){return m[(new Date).getDay()]})),v=(0,u.Z)(x,2),j=v[0],w=v[1],N=(0,n.useState)((function(){return(new Date).getDay()})),C=(0,u.Z)(N,2),k=C[0],O=C[1],S=(0,n.useState)({}),H=(0,u.Z)(S,2),Z=H[0],D=H[1],I=(0,n.useState)(!0),F=(0,u.Z)(I,2),L=F[0],Y=F[1],T=(0,n.useState)(!1),E=(0,u.Z)(T,2),R=E[0],M=(E[1],(0,n.useState)({sun:!1,mon:!1,tue:!1,wed:!1,thu:!1,fri:!1,sat:!1})),A=(0,u.Z)(M,2),P=A[0],V=A[1];(0,n.useEffect)((function(){m[(new Date).getDay()].localeCompare(j,void 0,{sensitivity:"base"})?R||Y(!1):Y(!0)}),[j]),(0,n.useEffect)((function(){(new Date).getDay();var e=JSON.parse(localStorage.getItem("USERID"));r[k]?(y(r[k]),V((function(e){return(0,o.Z)({},j,!e[j])}))):(a(b.Y.isLoading()),h.Z.get("/api/habits/userTodayHabits?userId=".concat(e,"&day=").concat(j),{headers:{Authorization:"Bearer ".concat(i.token)}}).then((function(e){if(console.log(e),200===parseInt(e.status)){var t=e.data.data||[];console.log(e.data.data),y(t),a(b.Y.todayHabits({data:e.data.data,index:k}))}a(b.Y.stopLoading())})).catch((function(e){console.log(e);var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();a(b.Y.message(t))})).finally((function(){V((function(e){return(0,o.Z)({},j,!e[j])})),a(b.Y.stopLoading())})))}),[j]);var z=function(e){w(m[e]),O(e)};return(0,c.jsxs)(c.Fragment,{children:[i.todayHabitLoading&&(0,c.jsx)("h5",{children:"Loading..."}),(0,c.jsxs)("div",{className:"today-habits-days-wrapper",children:[(0,c.jsx)("div",{className:P.sun?"today-habits-day bg-b-cw":"today-habits-day",onClick:function(){return z(0)},children:"Sun"}),(0,c.jsx)("div",{className:P.mon?"today-habits-day bg-b-cw":"today-habits-day",onClick:function(){return z(1)},children:"Mon"}),(0,c.jsx)("div",{className:P.tue?"today-habits-day bg-b-cw":"today-habits-day",onClick:function(){return z(2)},children:"Tue"}),(0,c.jsx)("div",{className:P.wed?"today-habits-day bg-b-cw":"today-habits-day",onClick:function(){return z(3)},children:"Wed"}),(0,c.jsx)("div",{className:P.thu?"today-habits-day bg-b-cw":"today-habits-day",onClick:function(){return z(4)},children:"Thur"}),(0,c.jsx)("div",{className:P.fri?"today-habits-day bg-b-cw":"today-habits-day",onClick:function(){return z(5)},children:"Fri"}),(0,c.jsx)("div",{className:P.sat?"today-habits-day bg-b-cw":"today-habits-day",onClick:function(){return z(6)},children:"Sat"})]}),(0,c.jsx)("div",{children:(0,c.jsx)("i",{style:{color:"slategray"},children:"Habits To Complete Today"})}),(0,c.jsxs)("div",{className:"todayHabit-habit",children:[(0,c.jsx)("p",{className:"not-valid",children:Z.message}),!i.todayHabitLoading&&f.length>0&&(0,c.jsx)("ul",{children:f.map((function(e,a){return(0,c.jsx)("li",{children:(0,c.jsx)(p,{data:e})},a)}))})]}),f.length<1&&"No Tasks To show",(0,c.jsx)("div",{children:(0,c.jsx)("button",{type:"button",className:"habit-day-btn",onClick:function(){var n=JSON.parse(localStorage.getItem("USERID"));console.log("clicked");var s=function(){var e={};return t.length<1&&(e.message="Please Select the completed tasks"),D((0,d.Z)({},e)),Object.keys(e).length<1}();s&&h.Z.post("/api/habits/dailyProgress",{userId:n,day:e.getDay(),month:e.getMonth(),year:e.getFullYear(),totalHabits:f.length,completedHabits:t.length},{headers:{Authorization:"Bearer ".concat(i.token)}}).then((function(e){console.log(e),201===parseInt(e.status)&&(localStorage.setItem("USER",JSON.stringify(e.data.data)),a(b.Y.userUpdate(e.data.data)))})).catch((function(e){console.log(e);var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();a(b.Y.habitMessage(t))})).finally((function(){a(b.Y.stopTodayLoading())}))},disabled:!L,children:L?"Done":"Disabled"})})]})},y=n.memo(f),x=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l,{})," ",(0,c.jsx)("br",{}),(0,c.jsx)(g,{})," ",(0,c.jsx)("br",{}),(0,c.jsx)(y,{})," ",(0,c.jsx)("br",{})]})}},8698:function(e,a,t){var n=t(2791),i=t(2007);function s(e){if(e&&e.__esModule)return e;var a=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(a,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})}})),a.default=e,Object.freeze(a)}var r=s(n),c=s(i),l=function(){return l=Object.assign||function(e){for(var a,t=1,n=arguments.length;t<n;t++)for(var i in a=arguments[t])Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);return e},l.apply(this,arguments)},o=function(e){var a,t=e.bgColor,n=e.completed,i=e.baseBgColor,s=e.height,c=e.width,o=e.margin,d=e.padding,u=e.borderRadius,h=e.labelAlignment,b=e.labelColor,m=e.labelSize,g=e.isLabelVisible,p=e.customLabelStyles,f=e.transitionDuration,y=e.transitionTimingFunction,x=e.className,v=e.dir,j=e.ariaValuemin,w=e.ariaValuemax,N=e.ariaValuetext,C=e.maxCompleted,k=e.customLabel,O=e.animateOnRender,S=e.barContainerClassName,H=e.completedClassName,Z=e.labelClassName,D=e.initCompletedOnAnimation,I=void 0===D?0:D,F="left"===(a=h)?"flex-start":"center"===a?"center":"right"===a?"flex-end":null,L="number"===typeof I?"".concat(I,"%"):I,Y=function(e,a){if(e){var t=Number(a)/e;return t>1?"100%":"".concat(100*t,"%")}return L}(C,n),T=r.useState(L),E=T[0],R=T[1],M={height:s,background:i,borderRadius:u,padding:d,width:c,margin:o,overflow:"hidden"},A={height:s,width:O?E:Y,background:t,transition:"width ".concat(f||"1s"," ").concat(y||"ease-in-out"),borderRadius:"inherit",display:"flex",alignItems:"center",justifyContent:"outside"!==h&&F?F:"normal"},P=l({padding:"outside"===h?"0 0 0 5px":"5px",color:b,fontWeight:"bold",fontSize:m,display:g?"initial":"none"},p),V={display:"outside"===h?"flex":"initial",alignItems:"outside"===h?"center":"initial"},z="number"===typeof n?"".concat(n,"%"):"".concat(n),q=k||z;return r.useEffect((function(){O&&requestAnimationFrame((function(){return R(Y)}))}),[Y,O]),r.createElement("div",{style:x?void 0:V,className:x,dir:v,role:"progressbar","aria-valuenow":parseFloat(q),"aria-valuemin":j,"aria-valuemax":w,"aria-valuetext":"".concat(null===N?q:N)},r.createElement("div",{style:S?void 0:M,className:S},r.createElement("div",{style:H?void 0:A,className:H},"outside"!==h&&r.createElement("span",{style:Z?void 0:P,className:Z},q))),"outside"===h&&r.createElement("span",{style:Z?void 0:P,className:Z},q))};o.propTypes={completed:c.oneOfType([c.string,c.number]).isRequired,bgColor:c.string,baseBgColor:c.string,height:c.string,width:c.string,borderRadius:c.string,margin:c.string,padding:c.string,labelAlignment:c.oneOf(["left","center","right","outside"]),labelColor:c.string,labelSize:c.string,isLabelVisible:c.bool,className:c.string,dir:c.oneOf(["rtl","ltr","auto"]),maxCompleted:c.number,customLabel:c.string,animateOnRender:c.bool,barContainerClassName:c.string,completedClassName:c.string,labelClassName:c.string,initCompletedOnAnimation:c.oneOfType([c.string,c.number])},o.defaultProps={bgColor:"#6a1b9a",height:"20px",width:"100%",borderRadius:"50px",labelAlignment:"right",baseBgColor:"#e0e0de",labelColor:"#fff",labelSize:"15px",isLabelVisible:!0,dir:"ltr",ariaValuemin:0,ariaValuemax:100,ariaValuetext:null,maxCompleted:100,animateOnRender:!1,initCompletedOnAnimation:0},a.Z=o}}]);
//# sourceMappingURL=18.ce344059.chunk.js.map